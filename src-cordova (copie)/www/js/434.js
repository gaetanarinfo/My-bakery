"use strict";(globalThis["webpackChunkmy_bakery"]=globalThis["webpackChunkmy_bakery"]||[]).push([[434],{5434:(t,e,a)=>{a.r(e),a.d(e,{default:()=>ft});var n=a(1758);function o(t,e,a,o,s,l){const r=(0,n.g2)("HeaderComponent"),i=(0,n.g2)("CartComponent"),c=(0,n.g2)("Section7"),d=(0,n.g2)("FooterComponent");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(r),(0,n.bF)(i),(0,n.bF)(c),(0,n.bF)(d)],64)}var s=a(128),l=(a(4748),a(8790)),r=a(9104);const i=(0,n.Fv)('<div class="background fadeIn2 bb background5"><div class="content"><h1>Panier</h1><div class="b-breadcrumb"><div class="b-breadcrumb"><ol class="breadcrumb"><li><a href="/">Accueil</a></li><li class="active">Panier</li></ol></div></div></div></div>',1),c={id:"cart",class:"section fadeIn3"},d={class:"container"},u={class:"u-column1 row gutters-sm"},m={key:0,class:"ps-cart-listing"},p={class:"table-responsive"},_={class:"table ps-table ps-table--listing"},v=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Tous les produits"),(0,n.Lk)("th",null,"Prix"),(0,n.Lk)("th",null,"Quantité"),(0,n.Lk)("th",null,"Total"),(0,n.Lk)("th")])],-1),h={class:"ps-product--table"},b={class:"form-group--number"},g=["onClick"],k=(0,n.Lk)("span",null,[(0,n.Lk)("i",{class:"fa fa-minus"})],-1),f=[k],I=["value"],L=["onClick"],A=(0,n.Lk)("span",null,[(0,n.Lk)("i",{class:"fa fa-plus"})],-1),y=[A],C={id:"priceTotalProduct"},P=["onClick"],T={key:0},F=(0,n.Lk)("td",null,[(0,n.Lk)("a",{class:"ps-product--table"},[(0,n.Lk)("i",{class:(0,l.C4)("me-3 ion-ios-color-wand-outline")}),(0,n.Lk)("strong",null,"Jours supplèmentaire bannière")])],-1),q={class:"form-group--number"},w=(0,n.Lk)("button",{class:"minus disabled"},[(0,n.Lk)("span",null,[(0,n.Lk)("i",{class:"fa fa-minus"})])],-1),x=["value"],E=(0,n.Lk)("button",{class:"plus disabled"},[(0,n.Lk)("span",null,[(0,n.Lk)("i",{class:"fa fa-plus"})])],-1),D={id:"priceTotalProduct"},K=(0,n.Lk)("td",null,null,-1),R={class:"ps-cart__actions"},S={class:"ps-cart__promotion"},M=(0,n.Fv)('<div class="form-group"><div class="ps-form--icon"><i class="fa fa-angle-right"></i><input class="form-control" type="text" placeholder="Code promotionnel"><p class="codePromo">Pensez à appliquer le code avant votre achat !</p></div></div>',1),Q={class:"form-group"},W={class:"ps-cart__total"},X={class:"mb-1"},j=(0,n.Lk)("span",{class:"tva"},"TVA 20%",-1),B=(0,n.Lk)("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo-center/logo_paypal_moyens_paiement_fr.jpg",alt:"PayPal Acceptance Mark"},null,-1),N={key:1,class:"cartEmpty"},Y=(0,n.Lk)("img",{src:"bakerys/large-5.jpg",alt:"My Bakery"},null,-1),z=(0,n.Lk)("h3",null,"Votre panier semble vide",-1),G=(0,n.Lk)("p",null,[(0,n.eW)("Avec My Bakery, vous pouvez commander à tout moment,"),(0,n.Lk)("br",{class:"br-no"}),(0,n.eW)(" notre service technique vous livrera vos produits dans les plus brefs délais.")],-1),H=(0,n.Lk)("a",{class:"ps-btn",href:"#/"},"Retour à l'accueil",-1),O=[Y,z,G,H],V={class:"cartLoad loadingDiv"};function J(t,e,a,o,s,k){const A=(0,n.g2)("q-spinner-grid");return(0,n.uX)(),(0,n.CE)(n.FK,null,[i,(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.bo)((0,n.Lk)("div",u,[t.shopping_cart?((0,n.uX)(),(0,n.CE)("div",m,[(0,n.Lk)("div",p,[(0,n.Lk)("table",_,[v,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.products_cart,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("a",h,[(0,n.Lk)("i",{class:(0,l.C4)("me-3 "+e.image)},null,2),(0,n.Lk)("strong",null,(0,l.v_)(e.title),1)])]),(0,n.Lk)("td",null,(0,l.v_)(e.price)+" €",1),(0,n.Lk)("td",null,[(0,n.Lk)("div",b,[(0,n.Lk)("button",{class:"minus",onClick:a=>t.removeQuantityProduct(e.price)},f,8,g),(0,n.Lk)("input",{class:"form-control",disabled:"",type:"text",value:t.shopping_cart_qte},null,8,I),(0,n.Lk)("button",{class:"plus disabled",onClick:a=>t.addQuantityProduct(e.price)},y,8,L)])]),(0,n.Lk)("td",null,[(0,n.Lk)("strong",C,(0,l.v_)(t.shopping_total_ht)+" €",1)]),(0,n.Lk)("td",null,[(0,n.Lk)("div",{onClick:a=>t.removeProduct(e.id),class:"ps-remove"},null,8,P)])])))),256)),t.verifBanner?((0,n.uX)(),(0,n.CE)("tr",T,[F,(0,n.Lk)("td",null,(0,l.v_)((Number(t.moment(t.dateE).add(1,"days").diff(t.moment(t.dateS),"days"))-7)*parseFloat(.25).toFixed(2))+" €",1),(0,n.Lk)("td",null,[(0,n.Lk)("div",q,[w,(0,n.Lk)("input",{class:"form-control",disabled:"",type:"text",value:t.shopping_cart_qte},null,8,x),E])]),(0,n.Lk)("td",null,[(0,n.Lk)("strong",D,(0,l.v_)(t.shopping_total_ht)+" €",1)]),K])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",R,[(0,n.Lk)("div",S,[M,(0,n.Lk)("div",Q,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=t=>this.$router.push("/products")),class:"ps-btn ps-btn--gray"},"Continuer vos achats")])]),(0,n.Lk)("div",W,[(0,n.Lk)("h3",X,[(0,n.eW)("Prix ​​total HT : "),(0,n.Lk)("span",null,(0,l.v_)(t.shopping_total_ht)+" €",1)]),(0,n.Lk)("h3",null,[(0,n.eW)("Prix ​​total TTC "),j,(0,n.eW)(" : "),(0,n.Lk)("span",null,(0,l.v_)(t.shopping_total_ttc)+" €",1)]),(0,n.Lk)("a",{class:"ps-btn",onClick:e[1]||(e[1]=e=>t.createPaiement())},"Passer à la caisse"),B])])])):((0,n.uX)(),(0,n.CE)("div",N,O))],512),[[r.aG,t.showSimulatedReturnData]]),(0,n.bo)((0,n.Lk)("div",V,[(0,n.bF)(A,{size:"70px",color:"info"})],512),[[r.aG,t.visible]])])])],64)}var U=a(5022),Z=a(8734),tt=a(6980),et=a(5038),at=a.n(et);at().locale("fr");const nt=(0,Z.KR)(U.A.getItem("shopping_total_ht")),ot=(0,Z.KR)(U.A.getItem("shopping_total_ttc")),st=(0,Z.KR)(U.A.getItem("shopping_cart_qte"));var lt=(0,Z.KR)(!1),rt=null,it=null;const ct=(0,n.pM)({name:"CartComponent",setup(){const t=(0,tt.Pj)(),e=(0,Z.KR)(!0),a=(0,Z.KR)(!1),o=(0,n.EW)((()=>t.state.products_cart)),s=(0,n.EW)((()=>t.state.stateUser.user));return U.A.hasItem("shopping_cart")&&t.dispatch("fetchProductsCart",{cart:U.A.getItem("shopping_cart")}),lt=!!(U.A.hasItem("banner_date_start")&&at()(U.A.getItem("banner_date_end")).add(1,"days").diff(at()(U.A.getItem("banner_date_start")).format("YYYY-MM-DD"),"days")>=8),rt=U.A.getItem("banner_date_start"),it=U.A.getItem("banner_date_end"),{dateS:rt,dateE:it,verifBanner:lt,moment:at(),showTextLoading(t,n=null){a.value=!0,$(".u-column1").fadeOut(300),e.value=!1,null===n&&setTimeout((()=>{a.value=!1,e.value=!0}),t)},user:s,createPaiement(){null!==sessionStorage.getItem("token")?($([document.documentElement,document.body]).animate({scrollTop:$("#cart").offset().top},"200"),this.showTextLoading(3e3),t.dispatch("setInsertCommandeClient",{user_id:this.user.id,product_id:U.A.getItem("shopping_cart"),status:"1",qte:U.A.getItem("shopping_cart_qte"),total_ht:U.A.getItem("shopping_total_ht"),total_ttc:U.A.getItem("shopping_total_ttc"),dateStart:U.A.hasItem("banner_date_start")?U.A.getItem("banner_date_start"):null,dateEnd:U.A.hasItem("banner_date_end")?U.A.getItem("banner_date_end"):null,additional_information:U.A.hasItem("additional_information")?U.A.getItem("additional_information"):null,banner_name:U.A.hasItem("banner_name")?U.A.getItem("banner_name"):null,banner_square_name:U.A.hasItem("banner_square_name")?U.A.getItem("banner_square_name"):null,bakery_id_event:U.A.hasItem("bakery_id_event")?U.A.getItem("bakery_id_event"):null})):(U.A.setItem("prev_url","/cart"),this.$router.push("/my-account"))},shopping_cart:U.A.getItem("shopping_cart"),shopping_total_ht:nt,shopping_total_ttc:ot,shopping_cart_qte:st,products_cart:o,visible:a,showSimulatedReturnData:e,addQuantityProduct(t){},removeQuantityProduct(t){var e=st.value-1;e>=1||(U.A.removeItem("shopping_total_ht"),U.A.removeItem("shopping_total_ttc"),U.A.removeItem("shopping_cart_qte"),U.A.removeItem("shopping_cart"),U.A.removeItem("additional_information"),U.A.removeItem("banner_date_start"),U.A.removeItem("banner_date_end"),U.A.removeItem("banner_name"),U.A.removeItem("banner_square_name"),U.A.removeItem("bakery_id_event"),location.reload())},removeProduct(t){U.A.removeItem("shopping_total_ht"),U.A.removeItem("shopping_total_ttc"),U.A.removeItem("shopping_cart_qte"),U.A.removeItem("shopping_cart"),U.A.removeItem("additional_information"),U.A.removeItem("banner_date_start"),U.A.removeItem("banner_date_end"),U.A.removeItem("banner_name"),U.A.removeItem("banner_square_name"),U.A.removeItem("bakery_id_event"),location.reload()}}},mounted(){this.showTextLoading(1500),setTimeout((()=>{if(U.A.hasItem("shopping_cart")){var t=U.A.getItem("banner_date_start"),e=U.A.getItem("banner_date_end"),a=(Number(at()(e).add(1,"days").diff(at()(t),"days"))-7)*parseFloat(.25).toFixed(2),n=0;U.A.hasItem("banner_date_start")?(n=Number(this.products_cart[0].price)+a,a+=20*a/100):n=Number(this.products_cart[0].price);var o=(n+20*n/100).toFixed(2),s=n,l=o;U.A.setItem("shopping_total_ht",s.toFixed(2)),U.A.setItem("shopping_total_ttc",l),nt.value=U.A.getItem("shopping_total_ht"),ot.value=U.A.getItem("shopping_total_ttc"),st.value=U.A.getItem("shopping_cart_qte")}}),300)}});var dt=a(2807),ut=a(3561),mt=a(8582),pt=a.n(mt);const _t=(0,dt.A)(ct,[["render",J]]),vt=_t;pt()(ct,"components",{QSpinnerGrid:ut.A});var ht=a(6025),bt=a(6599);const gt=(0,n.pM)({name:"Cart",components:{HeaderComponent:s.A,CartComponent:vt,Section7:bt.A,FooterComponent:ht.A},mounted(){$("#menu-main-menu").removeAttr("style"),$(document).on("click",".menu-toggle-2:not(.active)",(function(t){t.preventDefault(),$(this).addClass("active"),$("#menu-main-menu").fadeIn(300)})),$(document).on("click",".menu-toggle-2.active",(function(t){t.preventDefault(),$(this).removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#menu-main-menu .menu-item",(function(t){$(".menu-toggle-2").removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#blog .btn-target",(function(t){t.preventDefault();var e=$(this).attr("href");location.href=e})),$(".header").addClass("h-blog"),$("body").removeClass("loading"),$(".fadeIn").fadeIn(600),$(".fadeIn2").fadeIn(600),$(".fadeIn3").fadeIn(600),$(".fadeIn7").fadeIn(600),$(".fadeIn8").fadeIn(600),$(document).on("click",".scroll-click-s",(function(t){t.preventDefault();const e=$(this).data("scroll");$([document.documentElement,document.body]).animate({scrollTop:$("#"+e).offset().top},"200")})),$(window).scroll((function(){$(this).scrollTop()>=600?$("#back-top").addClass("active"):$("#back-top").removeClass("active")})),$(document).on("click","#back-top",(function(t){t.preventDefault(),$("html, body").animate({scrollTop:0},600)})),setTimeout((()=>{$(".search-btn").on("click",(function(t){t.preventDefault(),$(".searchbox").addClass("active"),$("body").css({overflow:"hidden"})})),$(".searchbox-remove").on("click",(function(t){t.preventDefault(),$(".searchbox").removeClass("active"),$("body").css({overflow:"auto"})}))}),1e3)}}),kt=(0,dt.A)(gt,[["render",o]]),ft=kt}}]);