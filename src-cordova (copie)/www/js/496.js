"use strict";(globalThis["webpackChunkmy_bakery"]=globalThis["webpackChunkmy_bakery"]||[]).push([[496],{496:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ee});var o=t(9835);function s(e,r,t,s,a,n){const l=(0,o.up)("HeaderComponent"),i=(0,o.up)("MyAccountComponent"),m=(0,o.up)("Section7"),u=(0,o.up)("FooterComponent");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o.Wm)(i),(0,o.Wm)(m),(0,o.Wm)(u)],64)}var a=t(5568),n=(t(9665),t(1957));const l=(0,o.uE)('<div class="background fadeIn2 bb background1"><div class="content"><h1>Mon compte</h1><div class="b-breadcrumb"><div class="b-breadcrumb"><ol class="breadcrumb"><li><a href="/">Accueil</a></li><li class="active">Mon compte</li></ol></div></div></div></div>',1),i={id:"login",class:"section fadeIn3"},m={class:"content b-80 b-80"},u={class:"container"},c={class:"u-column1 col-1"},d=(0,o._)("h2",null,"Connexion",-1),p={class:"login bakery-detail"},g={class:"form-group"},f=(0,o._)("label",{for:"username"},[(0,o.Uk)("Pseudo ou adresse email "),(0,o._)("span",{class:"required"},"*")],-1),h=(0,o._)("p",{class:"error-text username_error"},null,-1),v={class:"form-group"},_=(0,o._)("label",{for:"password"},[(0,o.Uk)("Mot de passe "),(0,o._)("span",{class:"required"},"*")],-1),b=(0,o._)("p",{class:"error-text password_error"},null,-1),w={class:"form-group form-row"},y={class:"ms-3"},k=(0,o._)("span",{class:"ms-1"},"Se souvenir de moi",-1),x={class:"form-group"},I={class:"u-column2 col-2"},C=(0,o._)("h2",null,"Inscription",-1),S={method:"post",class:"register bakery-detail"},D={class:"form-group"},A=(0,o._)("label",{for:"reg_email"},[(0,o.Uk)("Adresse email "),(0,o._)("span",{class:"required"},"*")],-1),Z=(0,o._)("p",{class:"error-text reg_email_error"},null,-1),T={class:"privacy-policy-text"},U={class:"form-group woocomerce-FormRow form-row"},L={class:"loadingDiv"};function q(e,r,t,s,a,$){const q=(0,o.up)("q-spinner-grid");return(0,o.wg)(),(0,o.iD)(o.HY,null,[l,(0,o._)("div",i,[(0,o._)("div",m,[(0,o._)("div",u,[(0,o.wy)((0,o._)("div",c,[d,(0,o._)("form",p,[(0,o._)("p",g,[f,(0,o.wy)((0,o._)("input",{onKeyup:r[0]||(r[0]=r=>e.erraseData("username")),"onUpdate:modelValue":r[1]||(r[1]=r=>e.username=r),type:"text",class:"form-control",name:"username",id:"username"},null,544),[[n.nr,e.username]]),h]),(0,o._)("p",v,[_,(0,o.wy)((0,o._)("input",{onKeyup:r[2]||(r[2]=r=>e.erraseData("password")),"onUpdate:modelValue":r[3]||(r[3]=r=>e.password=r),class:"form-control",type:"password",name:"password",id:"password"},null,544),[[n.nr,e.password]]),b]),(0,o._)("p",w,[(0,o._)("button",{onClick:r[4]||(r[4]=(...r)=>e.login&&e.login(...r)),type:"submit",class:"btn btn-bakery"},"Connexion"),(0,o._)("label",y,[(0,o.wy)((0,o._)("input",{"true-value":"true","false-value":"false",onChange:r[5]||(r[5]=(...r)=>e.remember&&e.remember(...r)),"onUpdate:modelValue":r[6]||(r[6]=r=>e.rememberme=r),class:"form-check-input",name:"rememberme",type:"checkbox",id:"rememberme"},null,544),[[n.e8,e.rememberme]]),k])]),(0,o._)("p",x,[(0,o._)("a",{role:"button",onClick:r[7]||(r[7]=e=>this.$router.push("/forgot-password"))},"Mot de passe perdu ?")])])],512),[[n.F8,e.showSimulatedReturnData]]),(0,o.wy)((0,o._)("div",I,[C,(0,o._)("form",S,[(0,o._)("p",D,[A,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":r[8]||(r[8]=r=>e.reg_email=r),type:"email",class:"form-control",name:"email",id:"reg_email"},null,512),[[n.nr,e.reg_email]]),Z]),(0,o._)("div",T,[(0,o._)("p",null,[(0,o.Uk)("Vos données personnelles seront utilisées pour soutenir votre expérience sur ce site Web, pour gérer l'accès à votre compte, et à d'autres fins décrites dans notre "),(0,o._)("a",{role:"button",onClick:r[9]||(r[9]=e=>{this.$router.push("/politique-confidentialite")}),target:"_blank"},"politique de confidentialité"),(0,o.Uk)(".")])]),(0,o._)("p",U,[(0,o._)("button",{onClick:r[10]||(r[10]=(...r)=>e.register&&e.register(...r)),type:"submit",class:"btn btn-bakery"},"S'inscrire")])])],512),[[n.F8,e.showSimulatedReturnData]]),(0,o.wy)((0,o._)("div",L,[(0,o.Wm)(q,{size:"70px",color:"info"})],512),[[n.F8,e.visible]])])])])],64)}var N=t(1359),F=t(3100),M=t(9302),z=t(3878),H=t.n(z),V=t(499),W=t(4006),R=t(7524);H().locale("fr");const E=(0,o.aZ)({name:"BlogcComponent",setup(){const e=(0,F.oR)(),r=(0,V.iH)(!1),t=(0,V.iH)(!0),s=(0,M.Z)(),a=(0,o.Fl)((()=>e.state.stateUser));return s.notify.registerType("success-form",{icon:"fa-solid fa-check",progress:!1,color:"green-6",textColor:"white",classes:"glossy",timeout:3500}),s.notify.registerType("error-form",{icon:"fa-solid fa-xmark",progress:!1,color:"red-6",textColor:"white",classes:"glossy",timeout:3500}),{showTextLoading(e=null){r.value=!0,$(".u-column1").fadeOut(300),$(".u-column2").fadeOut(300),t.value=!1,null===e&&setTimeout((()=>{r.value=!1,t.value=!0}),3e3)},showNotif(e){s.notify({type:"success-form",message:e})},errorNotif(e=null){s.notify({type:"error-form",message:e||"Une erreur est survenue dans le formulaire."})},visible:r,stateUser:a,moment:H(),Cookies:W.Z,showSimulatedReturnData:t}},data(){return{v$:(0,N.ZP)(),reg_email:null,password:null!==localStorage.getItem("password")?localStorage.getItem("password"):null,rememberme:null!==localStorage.getItem("username")&&null!==localStorage.getItem("password")?"true":"false",userLoggedIn:!1,username:null!==localStorage.getItem("username")?localStorage.getItem("username"):null}},methods:{register(e){e.preventDefault(),this.v$.$validate();let r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=r.test(this.reg_email);t?($(".reqEmail_error").removeAttr(),$(".reqEmail_error").text(""),this.reg_email?(this.showTextLoading(),R.Z.post("https://my-bakery.fr:8080/register",{email:this.reg_email}).then((e=>{!0===e.data.success?(this.showNotif("Votre inscription a bien été pris en compte, un email de validation vous a été adressé !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.reg_email=null}),3500)):this.errorNotif(e.data.message)})).catch((e=>{this.errorNotif()}))):this.reg_email?($(".reg_email_error").removeAttr(),$(".reg_email_error").text("")):($(".reg_email_error").attr("style","display: block"),$(".reg_email_error").text("Le champs adresse email est obligatoire !"))):($(".reg_email_error").attr("style","display: block"),$(".reg_email_error").text("Le champs adresse email n'est pas valide !"))},login(e){e.preventDefault(),this.v$.$validate();let r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=r.test(this.username);t?($(".username_error").removeAttr(),$(".username_error").text(""),this.username&&this.password?R.Z.post("https://my-bakery.fr:8080/login",{username:this.username,password:this.password}).then((e=>{if(this.showTextLoading("login"),!0===e.data.success){const r=e.data.token;this.stateUser.token=r,sessionStorage.setItem("token",r),this.showNotif("Connexion réussi, vous allez être redirigé !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.username=null,this.password=null,this.$router.push("/")}),3500)}else this.errorNotif(e.data.message),this.showTextLoading()})).catch((e=>{this.errorNotif()})):(this.username?($(".username_error").removeAttr(),$(".username_error").text("")):($(".username_error").attr("style","display: block"),$(".username_error").text("Le champs adresse email est obligatoire !")),this.password?($(".password_error").removeAttr(),$(".password_error").text("")):($(".password_error").attr("style","display: block"),$(".password_error").text("Le champs mot de passe est obligatoire !")))):($(".username_error").attr("style","display: block"),$(".username_error").text("Le champs adresse email n'est pas valide !"))},remember(){"true"===this.rememberme?(localStorage.setItem("username",this.username),localStorage.setItem("password",this.password)):(localStorage.removeItem("username"),localStorage.removeItem("password"))},erraseData(e){null!==localStorage.getItem(e)&&("username"===e&&localStorage.setItem(e,this.username),"password"===e&&localStorage.setItem(e,this.password))}},validations(){return{}},mounted(){null!==sessionStorage.getItem("token")&&(location.href="/"),$("#menu-main-menu").removeAttr("style"),$(document).on("click",".menu-toggle-2:not(.active)",(function(e){e.preventDefault(),$(this).addClass("active"),$("#menu-main-menu").fadeIn(300)})),$(document).on("click",".menu-toggle-2.active",(function(e){e.preventDefault(),$(this).removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#menu-main-menu .menu-item",(function(e){$(".menu-toggle-2").removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#blog .btn-target",(function(e){e.preventDefault();var r=$(this).attr("href");location.href=r})),$(".header").addClass("h-blog"),$("body").removeClass("loading"),$(".fadeIn").fadeIn(600),$(".fadeIn2").fadeIn(600),$(".fadeIn3").fadeIn(600),$(".fadeIn7").fadeIn(600),$(".fadeIn8").fadeIn(600),$(document).on("click",".scroll-click-s",(function(e){e.preventDefault();const r=$(this).data("scroll");$([document.documentElement,document.body]).animate({scrollTop:$("#"+r).offset().top},"slow")})),$(window).scroll((function(){$(this).scrollTop()>=600?$("#back-top").addClass("active"):$("#back-top").removeClass("active")})),$(document).on("click","#back-top",(function(e){e.preventDefault(),console.log("test"),$("html, body").animate({scrollTop:0},600)})),setTimeout((()=>{$(".search-btn").on("click",(function(e){e.preventDefault(),$(".searchbox").addClass("active"),$("body").css({overflow:"hidden"})})),$(".searchbox-remove").on("click",(function(e){e.preventDefault(),$(".searchbox").removeClass("active"),$("body").css({overflow:"auto"})}))}),1e3)}});var O=t(1639),K=t(3040),P=t(9984),Y=t.n(P);const B=(0,O.Z)(E,[["render",q]]),G=B;Y()(E,"components",{QSpinnerGrid:K.Z});var Q=t(299),j=t(2018);const J=(0,o.aZ)({name:"MyAccount",setup(){},components:{HeaderComponent:a.Z,MyAccountComponent:G,FooterComponent:Q.Z,Section7:j.Z}}),X=(0,O.Z)(J,[["render",s]]),ee=X}}]);