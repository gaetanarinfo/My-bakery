"use strict";(globalThis["webpackChunkmy_bakery"]=globalThis["webpackChunkmy_bakery"]||[]).push([[873],{7873:(o,e,t)=>{t.r(e),t.d(e,{default:()=>mo});var r=t(1758);function s(o,e,t,s,a,i){const n=(0,r.g2)("HeaderComponent"),l=(0,r.g2)("ForgotComponent"),d=(0,r.g2)("Section7"),c=(0,r.g2)("FooterComponent");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(n),(0,r.bF)(l),(0,r.bF)(d),(0,r.bF)(c)],64)}var a=t(5622),i=t(9104);const n=(0,r.Fv)('<div class="background fadeIn2 bb background1"><div class="content"><h1>Modification de votre mot de passe</h1><div class="b-breadcrumb"><div class="b-breadcrumb"><ol class="breadcrumb"><li><a href="/">Accueil</a></li><li class="active">Modification de votre mot de passe</li></ol></div></div></div></div>',1),l={key:0,id:"login",class:"forgot section fadeIn3"},d={class:"content b-80 b-80"},c={class:"container"},m={class:"u-column1 col-1 text-center",style:{float:"none",width:"100%"}},f=(0,r.Lk)("h2",{class:"mb-3"},"Vous avez perdu l'accès à votre compte ?",-1),p=(0,r.Lk)("p",{class:"mb-5"},"Pas de panique, remplisser le formulaire ci-dessous.",-1),u={class:"bakery-detail",style:{"max-width":"350px"}},g={class:"form-group text-start"},v=(0,r.Lk)("label",{for:"emailForgot"},[(0,r.eW)("Adresse email "),(0,r.Lk)("span",{class:"required"},"*")],-1),h=(0,r.Lk)("p",{class:"error-text email_forgot_error"},null,-1),k={class:"text-center"},b={class:"loadingDiv"},w={key:1,id:"login",class:"forgot section fadeIn3"},y={class:"content b-80 b-80"},_={class:"container"},F={class:"u-column1 col-1 text-center",style:{float:"none",width:"100%"}},x=(0,r.Lk)("h2",{class:"mb-3"},"Vous avez perdu l'accès à votre compte ?",-1),C=(0,r.Lk)("p",{class:"mb-5"},"Pas de panique, remplisser le formulaire ci-dessous.",-1),L={class:"bakery-detail",style:{"max-width":"350px"}},A={class:"form-group text-start"},I=(0,r.Lk)("label",{for:"passwordForgot"},[(0,r.eW)("Nouveau mot de passe "),(0,r.Lk)("span",{class:"required"},"*")],-1),D={class:"input-group"},T=(0,r.Lk)("div",{class:"input-group-prepend"},[(0,r.Lk)("span",{class:"input-group-text",id:"show-password"},[(0,r.Lk)("i",{class:"fa-solid fa-eye"})])],-1),N=(0,r.Lk)("p",{class:"error-text password_forgot_error"},null,-1),P={class:"form-group text-start"},V=(0,r.Lk)("label",{for:"passwordForgotConfirmation"},[(0,r.eW)("Confirmer votre nouveau mot de passe "),(0,r.Lk)("span",{class:"required"},"*")],-1),q={class:"input-group"},S=(0,r.Lk)("div",{class:"input-group-prepend"},[(0,r.Lk)("span",{class:"input-group-text",id:"show-password-2"},[(0,r.Lk)("i",{class:"fa-solid fa-eye"})])],-1),z=(0,r.Lk)("p",{class:"error-text password_confirmation_forgot_error"},null,-1),E={class:"text-center"},G={class:"loadingDiv"};function R(o,e,t,s,a,$){const R=(0,r.g2)("q-spinner-grid");return(0,r.uX)(),(0,r.CE)(r.FK,null,[n,o.route.params.token?((0,r.uX)(),(0,r.CE)("div",w,[(0,r.Lk)("div",y,[(0,r.Lk)("div",_,[(0,r.bo)((0,r.Lk)("div",F,[x,C,(0,r.Lk)("form",L,[(0,r.Lk)("p",A,[I,(0,r.Lk)("div",D,[(0,r.bo)((0,r.Lk)("input",{style:{"border-bottom":"1px solid #c79732"},"onUpdate:modelValue":e[2]||(e[2]=e=>o.passwordForgot=e),type:"password",class:"form-control",name:"passwordForgot",id:"passwordForgot"},null,512),[[i.Jo,o.passwordForgot]]),T]),N]),(0,r.Lk)("p",P,[V,(0,r.Lk)("div",q,[(0,r.bo)((0,r.Lk)("input",{style:{"border-bottom":"1px solid #c79732"},"onUpdate:modelValue":e[3]||(e[3]=e=>o.passwordForgotConfirmation=e),type:"password",class:"form-control",name:"passwordForgotConfirmation",id:"passwordForgotConfirmation"},null,512),[[i.Jo,o.passwordForgotConfirmation]]),S]),z]),(0,r.Lk)("div",E,[(0,r.Lk)("button",{onClick:e[4]||(e[4]=(...e)=>o.forgotPassword&&o.forgotPassword(...e)),class:"btn btn-bakery"},"Valider")])])],512),[[i.aG,o.showSimulatedReturnData]]),(0,r.bo)((0,r.Lk)("div",G,[(0,r.bF)(R,{size:"70px",color:"info"})],512),[[i.aG,o.visible]])])])])):((0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",d,[(0,r.Lk)("div",c,[(0,r.bo)((0,r.Lk)("div",m,[f,p,(0,r.Lk)("form",u,[(0,r.Lk)("p",g,[v,(0,r.bo)((0,r.Lk)("input",{style:{"border-bottom":"1px solid #c79732"},"onUpdate:modelValue":e[0]||(e[0]=e=>o.emailForgot=e),type:"text",class:"form-control",name:"emailForgot",id:"emailForgot"},null,512),[[i.Jo,o.emailForgot]]),h]),(0,r.Lk)("div",k,[(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...e)=>o.forgot&&o.forgot(...e)),class:"btn btn-bakery"},"Valider")])])],512),[[i.aG,o.showSimulatedReturnData]]),(0,r.bo)((0,r.Lk)("div",b,[(0,r.bF)(R,{size:"70px",color:"info"})],512),[[i.aG,o.visible]])])])]))],64)}t(3150),t(6003),t(4748);var U=t(9982),K=t(6599),M=t(3972),X=t(2640),H=t(6980),J=t(455),O=t(4907),W=t(5038),Z=t.n(W),j=t(8734),Q=t(4885),B=t(2303),Y=0,oo=0;$(document).on("click","#show-password",(function(o){o.preventDefault(),0==Y?($(this).find("i.fa-solid.fa-eye").removeClass("fa-solid fa-eye").addClass("fa-solid fa-eye-slash"),$(document).find("#passwordForgot").attr("type","text"),Y=1):0!=Y&&($(this).find("i.fa-solid.fa-eye-slash").removeClass("fa-solid fa-eye-slash").addClass("fa-solid fa-eye"),$(document).find("#passwordForgot").attr("type","password"),Y=0)})),$(document).on("click","#show-password-2",(function(o){o.preventDefault(),0==oo?($(this).find("i.fa-solid.fa-eye").removeClass("fa-solid fa-eye").addClass("fa-solid fa-eye-slash"),$(document).find("#passwordForgotConfirmation").attr("type","text"),oo=1):($(this).find("i.fa-solid.fa-eye-slash").removeClass("fa-solid fa-eye-slash").addClass("fa-solid fa-eye"),$(document).find("#passwordForgotConfirmation").attr("type","password"),oo=0)}));const eo=(0,r.pM)({name:"ForgotPasswordComponent",setup(){const o=(0,j.KR)(!1),e=(0,j.KR)(!0),t=(0,O.A)(),r=(0,J.lq)(),s=(0,H.Pj)();return t.notify.registerType("success-form",{icon:"fa-solid fa-check",progress:!1,color:"green-6",textColor:"white",classes:"glossy",timeout:3500}),t.notify.registerType("error-form",{icon:"fa-solid fa-xmark",progress:!1,color:"red-6",textColor:"white",classes:"glossy",timeout:3500}),""!==r.params.token&&s.dispatch("fetchVerificationTokenForgot",{token:r.params.token}),{showTextLoading(t=null){o.value=!0,$(".u-column1").fadeOut(300),e.value=!1,null===t&&setTimeout((()=>{o.value=!1,e.value=!0}),3e3)},showNotif(o){t.notify({type:"success-form",message:o})},errorNotif(o=null){t.notify({type:"error-form",message:o||"Une erreur est survenue dans le formulaire."})},visible:o,moment:Z(),route:r,Cookies:Q.A,showSimulatedReturnData:e}},data(){return{v$:(0,M.Ay)(),emailForgot:null,passwordForgot:null,passwordForgotConfirmation:null}},methods:{forgot(o){o.preventDefault(),this.v$.$validate();let e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=e.test(this.emailForgot);t?($(".email_forgot_error").removeAttr(),$(".email_forgot_error").text(""),this.emailForgot?(this.showTextLoading(),B.A.post("https://serveur.my-bakery.fr/forgot-password",{email:this.emailForgot}).then((o=>{!0===o.data.success?(this.showNotif("Un email vous a été envoyé sur "+this.emailForgot+", pour modifier votre mot de passe !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.reg_email=null}),3500)):this.errorNotif(o.data.message)})).catch((o=>{this.errorNotif()}))):this.emailForgot?($(".email_forgot_error").removeAttr(),$(".email_forgot_error").text("")):($(".email_forgot_error").attr("style","display: block"),$(".email_forgot_error").text("Le champs adresse email est obligatoire !"))):($(".email_forgot_error").attr("style","display: block"),$(".email_forgot_error").text("Le champs adresse email n'est pas valide !"))},forgotPassword(o){o.preventDefault();var e=parseInt($(document).find("#passwordForgot").val().length),t=parseInt($(document).find("#passwordForgotConfirmation").val().length);this.passwordForgot&&this.passwordForgotConfirmation&&($(document).find(".error-text").text(""),this.passwordForgot===this.passwordForgotConfirmation&&(e>7||t>7)?(this.showTextLoading(),B.A.post("https://serveur.my-bakery.fr/forgot-password-token/"+this.$route.params.token,{newPassword:this.passwordForgot}).then((o=>{!0===o.data.success?(this.showNotif("Votre mot de passe a bien été modifié !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.$router.push("/my-account"),this.reg_email=null}),3500)):this.errorNotif(o.data.message)})).catch((o=>{this.errorNotif()}))):this.passwordForgotConfirmation?($(".password_confirmation_forgot_error").removeAttr(),$(".password_confirmation_forgot_error").text("")):($(".password_confirmation_forgot_error").attr("style","display: block"),$(".password_confirmation_forgot_error").text("Le champs confirmation du mot de passe est obligatoire !"))),this.passwordForgot!==this.passwordForgotConfirmation?($(".password_confirmation_forgot_error").attr("style","display: block"),$(".password_confirmation_forgot_error").text("Les mots de passe ne correspondent pas !")):($(".password_confirmation_forgot_error").removeAttr(),$(".password_confirmation_forgot_error").text("")),this.passwordForgot?($(".password_forgot_error").removeAttr(),$(".password_forgot_error").text("")):($(".password_forgot_error").attr("style","display: block"),$(".password_forgot_error").text("Le champs mot de passe est obligatoire !")),e<7&&($(".password_forgot_error").attr("style","display: block"),$(".password_forgot_error").text("Le mot de passe doit être supèrieur à 8 caractères !")),t<7&&($(".password_confirmation_forgot_error").attr("style","display: block"),$(".password_confirmation_forgot_error").text("Le mot de passe doit être supèrieur à 8 caractères !"))}},components:{HeaderComponent:a.A,FooterComponent:U.A,Section7:K.A},mounted(){null!==sessionStorage.getItem("token")&&(location.href="/"),$("#menu-main-menu").removeAttr("style"),$(document).on("click",".menu-toggle-2:not(.active)",(function(o){o.preventDefault(),$(this).addClass("active"),$("#menu-main-menu").fadeIn(300)})),$(document).on("click",".menu-toggle-2.active",(function(o){o.preventDefault(),$(this).removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#menu-main-menu .menu-item",(function(o){$(".menu-toggle-2").removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#blog .btn-target",(function(o){o.preventDefault();var e=$(this).attr("href");location.href=e})),$(".header").addClass("h-blog"),$("body").removeClass("loading"),$(".fadeIn").fadeIn(600),$(".fadeIn2").fadeIn(600),$(".fadeIn3").fadeIn(600),$(".fadeIn7").fadeIn(600),$(".fadeIn8").fadeIn(600),$(document).on("click",".scroll-click-s",(function(o){o.preventDefault();const e=$(this).data("scroll");$([document.documentElement,document.body]).animate({scrollTop:$("#"+e).offset().top},"slow")})),$(window).scroll((function(){$(this).scrollTop()>=600?$("#back-top").addClass("active"):$("#back-top").removeClass("active")})),$(document).on("click","#back-top",(function(o){o.preventDefault(),console.log("test"),$("html, body").animate({scrollTop:0},600)})),setTimeout((()=>{$(".search-btn").on("click",(function(o){o.preventDefault(),$(".searchbox").addClass("active"),$("body").css({overflow:"hidden"})})),$(".searchbox-remove").on("click",(function(o){o.preventDefault(),$(".searchbox").removeClass("active"),$("body").css({overflow:"auto"})}))}),1e3)},validations(){return{emailForgot:{required:X.mw}}}});var to=t(2807),ro=t(3561),so=t(8582),ao=t.n(so);const io=(0,to.A)(eo,[["render",R]]),no=io;ao()(eo,"components",{QSpinnerGrid:ro.A});const lo=(0,r.pM)({name:"ForgotPassword",setup(){},components:{HeaderComponent:a.A,ForgotComponent:no,FooterComponent:U.A,Section7:K.A}}),co=(0,to.A)(lo,[["render",s]]),mo=co}}]);