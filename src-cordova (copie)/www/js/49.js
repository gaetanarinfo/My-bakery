"use strict";(globalThis["webpackChunkmy_bakery"]=globalThis["webpackChunkmy_bakery"]||[]).push([[49],{6049:(e,r,t)=>{t.r(r),t.d(r,{default:()=>$e});var o=t(1758);function s(e,r,t,s,a,l){const n=(0,o.g2)("HeaderComponent"),i=(0,o.g2)("MyAccountComponent"),m=(0,o.g2)("Section7"),c=(0,o.g2)("FooterComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(n),(0,o.bF)(i),(0,o.bF)(m),(0,o.bF)(c)],64)}var a=t(128),l=(t(4748),t(9104));const n=(0,o.Fv)('<div class="background fadeIn2 bb background1"><div class="content"><h1>Mon compte</h1><div class="b-breadcrumb"><div class="b-breadcrumb"><ol class="breadcrumb"><li><a href="/">Accueil</a></li><li class="active">Mon compte</li></ol></div></div></div></div>',1),i={id:"login",class:"section fadeIn3"},m={class:"content b-80 b-80"},c={class:"container clear"},u={class:"u-column1 col-1"},d=(0,o.Lk)("h2",null,"Connexion",-1),p={class:"login bakery-detail"},g={class:"form-group"},f=(0,o.Lk)("label",{for:"username"},[(0,o.eW)("Adresse email "),(0,o.Lk)("span",{class:"required"},"*")],-1),h=(0,o.Lk)("p",{class:"error-text username_error"},null,-1),_={class:"form-group"},b=(0,o.Lk)("label",{for:"password"},[(0,o.eW)("Mot de passe "),(0,o.Lk)("span",{class:"required"},"*")],-1),k={class:"input-group"},v=(0,o.Lk)("div",{class:"input-group-prepend"},[(0,o.Lk)("span",{class:"input-group-text",id:"show-password"},[(0,o.Lk)("i",{class:"fa-solid fa-eye"})])],-1),L=(0,o.Lk)("p",{class:"error-text password_error"},null,-1),y={class:"form-group form-row"},w={class:"ms-3"},x=(0,o.Lk)("span",{class:"ms-1"},"Se souvenir de moi",-1),A={class:"form-group"},C={class:"u-column2 col-2"},I=(0,o.Lk)("h2",null,"Inscription",-1),S={method:"post",class:"register bakery-detail"},D={class:"form-group"},T=(0,o.Lk)("label",{for:"reg_email"},[(0,o.eW)("Adresse email "),(0,o.Lk)("span",{class:"required"},"*")],-1),W=(0,o.Lk)("p",{class:"error-text reg_email_error"},null,-1),U={class:"form-group"},q=(0,o.Lk)("label",{for:"reg_firstname"},[(0,o.eW)("Prénom "),(0,o.Lk)("span",{class:"required"},"*")],-1),M=(0,o.Lk)("p",{class:"error-text reg_firstname_error"},null,-1),V={class:"form-group"},F=(0,o.Lk)("label",{for:"reg_lastname"},[(0,o.eW)("Nom "),(0,o.Lk)("span",{class:"required"},"*")],-1),J=(0,o.Lk)("p",{class:"error-text reg_lastname_error"},null,-1),N={class:"form-group"},K=(0,o.Lk)("label",{for:"reg_function"},[(0,o.eW)("Poste occupé "),(0,o.Lk)("span",{class:"required"},"*")],-1),P=(0,o.Lk)("p",{class:"error-text reg_function_error"},null,-1),R={class:"form-group"},z=(0,o.Lk)("label",{for:"reg_location"},[(0,o.eW)("Localisation "),(0,o.Lk)("span",{class:"required"},"*")],-1),E=(0,o.Lk)("p",{class:"error-text reg_location_error"},null,-1),O={class:"form-group"},G=(0,o.Lk)("label",{for:"reg_mobile"},"Mobile",-1),Z={class:"form-group"},H=(0,o.Lk)("label",{for:"reg_phone"},"Téléphone fixe",-1),X={class:"privacy-policy-text"},j={class:"form-group woocomerce-FormRow form-row"},Q={class:"loadingDiv"};function B(e,r,t,s,a,$){const B=(0,o.g2)("q-spinner-grid");return(0,o.uX)(),(0,o.CE)(o.FK,null,[n,(0,o.Lk)("div",i,[(0,o.Lk)("div",m,[(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("div",u,[d,(0,o.Lk)("form",p,[(0,o.Lk)("p",g,[f,(0,o.bo)((0,o.Lk)("input",{onKeyup:r[0]||(r[0]=r=>e.erraseData("username")),"onUpdate:modelValue":r[1]||(r[1]=r=>e.username=r),type:"text",class:"form-control",name:"username",id:"username"},null,544),[[l.Jo,e.username]]),h]),(0,o.Lk)("p",_,[b,(0,o.Lk)("div",k,[(0,o.bo)((0,o.Lk)("input",{onKeyup:r[2]||(r[2]=r=>e.erraseData("password")),"onUpdate:modelValue":r[3]||(r[3]=r=>e.password=r),class:"form-control",type:"password",name:"password",id:"password"},null,544),[[l.Jo,e.password]]),v]),L]),(0,o.Lk)("p",y,[(0,o.Lk)("button",{onClick:r[4]||(r[4]=(...r)=>e.login&&e.login(...r)),type:"submit",class:"btn btn-bakery"},"Connexion"),(0,o.Lk)("label",w,[(0,o.bo)((0,o.Lk)("input",{"true-value":"true","false-value":"false",onChange:r[5]||(r[5]=(...r)=>e.remember&&e.remember(...r)),"onUpdate:modelValue":r[6]||(r[6]=r=>e.rememberme=r),class:"form-check-input",name:"rememberme",type:"checkbox",id:"rememberme"},null,544),[[l.lH,e.rememberme]]),x])]),(0,o.Lk)("p",A,[(0,o.Lk)("a",{role:"button",onClick:r[7]||(r[7]=e=>this.$router.push("/forgot-password"))},"Mot de passe perdu ?")])])],512),[[l.aG,e.showSimulatedReturnData]]),(0,o.bo)((0,o.Lk)("div",C,[I,(0,o.Lk)("form",S,[(0,o.Lk)("p",D,[T,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[8]||(r[8]=r=>e.reg_email=r),type:"email",class:"form-control",name:"email",id:"reg_email"},null,512),[[l.Jo,e.reg_email]]),W]),(0,o.Lk)("p",U,[q,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[9]||(r[9]=r=>e.reg_firstname=r),type:"text",class:"form-control",name:"firstname",id:"reg_firstname"},null,512),[[l.Jo,e.reg_firstname]]),M]),(0,o.Lk)("p",V,[F,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[10]||(r[10]=r=>e.reg_lastname=r),type:"text",class:"form-control",name:"lastname",id:"reg_lastname"},null,512),[[l.Jo,e.reg_lastname]]),J]),(0,o.Lk)("p",N,[K,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[11]||(r[11]=r=>e.reg_function=r),type:"text",placeholder:"ex : Ouvrier",class:"form-control",name:"function",id:"reg_function"},null,512),[[l.Jo,e.reg_function]]),P]),(0,o.Lk)("p",R,[z,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[12]||(r[12]=r=>e.reg_location=r),placeholder:"ex : Le Mans",type:"text",class:"form-control",name:"location",id:"reg_location"},null,512),[[l.Jo,e.reg_location]]),E]),(0,o.Lk)("p",O,[G,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[13]||(r[13]=r=>e.reg_mobile=r),type:"tel",class:"form-control",name:"mobile",id:"reg_mobile"},null,512),[[l.Jo,e.reg_mobile]])]),(0,o.Lk)("p",Z,[H,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[14]||(r[14]=r=>e.reg_phone=r),type:"tel",class:"form-control",name:"fixe",id:"reg_phone"},null,512),[[l.Jo,e.reg_phone]])]),(0,o.Lk)("div",X,[(0,o.Lk)("p",null,[(0,o.eW)("Vos données personnelles seront utilisées pour soutenir votre expérience sur ce site Web, pour gérer l'accès à votre compte, et à d'autres fins décrites dans notre "),(0,o.Lk)("a",{role:"button",onClick:r[15]||(r[15]=e=>{this.$router.push("/politique-confidentialite")}),target:"_blank"},"politique de confidentialité"),(0,o.eW)(".")])]),(0,o.Lk)("p",j,[(0,o.Lk)("button",{onClick:r[16]||(r[16]=(...r)=>e.register&&e.register(...r)),type:"submit",class:"btn btn-bakery"},"S'inscrire")])])],512),[[l.aG,e.showSimulatedReturnData]]),(0,o.bo)((0,o.Lk)("div",Q,[(0,o.bF)(B,{size:"70px",color:"info"})],512),[[l.aG,e.visible]])])])])],64)}t(3150),t(6003);var Y=t(3972),ee=t(6980),re=t(5022),te=t(4907),oe=t(5038),se=t.n(oe),ae=t(8734),le=t(4885),ne=t(2303);se().locale("fr");var ie=0;$(document).on("click","#show-password",(function(e){e.preventDefault(),0==ie?($(this).find("i.fa-solid.fa-eye").removeClass("fa-solid fa-eye").addClass("fa-solid fa-eye-slash"),$(document).find("#password").attr("type","text"),ie=1):($(this).find("i.fa-solid.fa-eye-slash").removeClass("fa-solid fa-eye-slash").addClass("fa-solid fa-eye"),$(document).find("#password").attr("type","password"),ie=0)}));const me=(0,ae.KR)(""),ce=(0,o.pM)({name:"MyAccount",setup(){const e=(0,ee.Pj)(),r=(0,ae.KR)(!1),t=(0,ae.KR)(!0),s=(0,te.A)(),a=(0,o.EW)((()=>e.state.stateUser));return s.notify.registerType("success-form",{icon:"fa-solid fa-check",progress:!1,color:"green-6",textColor:"white",classes:"glossy",timeout:3500}),s.notify.registerType("error-form",{icon:"fa-solid fa-xmark",progress:!1,color:"red-6",textColor:"white",classes:"glossy",timeout:3500}),{application_id:me,showTextLoading(e=null){r.value=!0,$(".u-column1").fadeOut(300),$(".u-column2").fadeOut(300),t.value=!1,null===e&&setTimeout((()=>{r.value=!1,t.value=!0}),3e3)},showNotif(e){s.notify({type:"success-form",message:e})},errorNotif(e=null){s.notify({type:"error-form",message:e||"Une erreur est survenue dans le formulaire."})},visible:r,stateUser:a,moment:se(),Cookies:le.A,showSimulatedReturnData:t}},data(){return{v$:(0,Y.Ay)(),reg_email:null,reg_firstname:null,reg_lastname:null,reg_function:null,reg_location:null,reg_mobile:null,reg_phone:null,password:null!==localStorage.getItem("password")?localStorage.getItem("password"):null,rememberme:null!==localStorage.getItem("username")&&null!==localStorage.getItem("password")?"true":"false",userLoggedIn:!1,username:null!==localStorage.getItem("username")?localStorage.getItem("username"):null}},methods:{register(e){e.preventDefault(),this.v$.$validate();let r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=r.test(this.reg_email);t?($(".reqEmail_error").removeAttr(),$(".reqEmail_error").text(""),this.reg_email&&this.reg_firstname&&this.reg_lastname&&this.reg_function&&reg_location&&(this.showTextLoading(),ne.A.post("https://serveur.my-bakery.fr/register",{email:this.reg_email,firstname:this.reg_firstname,lastname:this.reg_lastname,fonction:this.reg_function,location:this.reg_location,phone:this.reg_phone,mobile:this.reg_mobile,application_id:me.value}).then((e=>{!0===e.data.success?(this.showNotif("Votre inscription a bien été pris en compte, un email de validation vous a été adressé !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.reg_email=null,this.reg_firstname=null,this.reg_lastname=null,this.reg_function=null,this.reg_location=null,this.reg_mobile=null,this.reg_phone=null}),3500)):this.errorNotif(e.data.message)})).catch((e=>{this.errorNotif()})))):($(".reg_email_error").attr("style","display: block"),$(".reg_email_error").text("Le champs adresse email n'est pas valide !")),this.reg_firstname?($(".reg_firstname_error").removeAttr(),$(".reg_firstname_error").text("")):($(".reg_firstname_error").attr("style","display: block"),$(".reg_firstname_error").text("Le champs prénom est obligatoire !")),this.reg_lastname?($(".reg_lastname_error").removeAttr(),$(".reg_lastname_error").text("")):($(".reg_lastname_error").attr("style","display: block"),$(".reg_lastname_error").text("Le champs nom est obligatoire !")),this.reg_function?($(".reg_function_error").removeAttr(),$(".reg_function_error").text("")):($(".reg_function_error").attr("style","display: block"),$(".reg_function_error").text("Le champs fonction est obligatoire !")),this.reg_location?($(".reg_location_error").removeAttr(),$(".reg_location_error").text("")):($(".reg_location_error").attr("style","display: block"),$(".reg_location_error").text("Le champs location est obligatoire !")),this.reg_email?($(".reg_email_error").removeAttr(),$(".reg_email_error").text("")):($(".reg_email_error").attr("style","display: block"),$(".reg_email_error").text("Le champs adresse email est obligatoire !"))},login(e){e.preventDefault(),this.v$.$validate();let r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=r.test(this.username);t?($(".username_error").removeAttr(),$(".username_error").text(""),this.username&&this.password?ne.A.post("https://serveur.my-bakery.fr/login",{username:this.username,password:this.password,application_id:me.value}).then((e=>{if(this.showTextLoading("login"),!0===e.data.success){const r=e.data.token;this.stateUser.token=r,sessionStorage.setItem("token",r),this.showNotif("Connexion réussi, vous allez être redirigé !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.username=null,this.password=null,re.A.has("prev_url")?this.$router.push(re.A.getItem("prev_url")):this.$router.push("/my-account-profil")}),3500)}else this.errorNotif(e.data.message),this.showTextLoading()})).catch((e=>{this.errorNotif()})):(this.username?($(".username_error").removeAttr(),$(".username_error").text("")):($(".username_error").attr("style","display: block"),$(".username_error").text("Le champs adresse email est obligatoire !")),this.password?($(".password_error").removeAttr(),$(".password_error").text("")):($(".password_error").attr("style","display: block"),$(".password_error").text("Le champs mot de passe est obligatoire !")))):($(".username_error").attr("style","display: block"),$(".username_error").text("Le champs adresse email n'est pas valide !"))},remember(){"true"===this.rememberme?(localStorage.setItem("username",this.username),localStorage.setItem("password",this.password)):(localStorage.removeItem("username"),localStorage.removeItem("password"))},erraseData(e){null!==localStorage.getItem(e)&&("username"===e&&localStorage.setItem(e,this.username),"password"===e&&localStorage.setItem(e,this.password))}},validations(){return{}},mounted(){null!==sessionStorage.getItem("token")&&(location.href="/"),window.WonderPush=window.WonderPush||[],WonderPush.push((function(){WonderPush.getInstallationId().then((e=>{me.value=e}))})),$("#menu-main-menu").removeAttr("style"),$(document).on("click",".menu-toggle-2:not(.active)",(function(e){e.preventDefault(),$(this).addClass("active"),$("#menu-main-menu").fadeIn(300)})),$(document).on("click",".menu-toggle-2.active",(function(e){e.preventDefault(),$(this).removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#menu-main-menu .menu-item",(function(e){$(".menu-toggle-2").removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#blog .btn-target",(function(e){e.preventDefault();var r=$(this).attr("href");location.href=r})),$(".header").addClass("h-blog"),$("body").removeClass("loading"),$(".fadeIn").fadeIn(600),$(".fadeIn2").fadeIn(600),$(".fadeIn3").fadeIn(600),$(".fadeIn7").fadeIn(600),$(".fadeIn8").fadeIn(600),$(document).on("click",".scroll-click-s",(function(e){e.preventDefault();const r=$(this).data("scroll");$([document.documentElement,document.body]).animate({scrollTop:$("#"+r).offset().top},"200")})),$(window).scroll((function(){$(this).scrollTop()>=600?$("#back-top").addClass("active"):$("#back-top").removeClass("active")})),$(document).on("click","#back-top",(function(e){e.preventDefault(),console.log("test"),$("html, body").animate({scrollTop:0},600)})),setTimeout((()=>{$(".search-btn").on("click",(function(e){e.preventDefault(),$(".searchbox").addClass("active"),$("body").css({overflow:"hidden"})})),$(".searchbox-remove").on("click",(function(e){e.preventDefault(),$(".searchbox").removeClass("active"),$("body").css({overflow:"auto"})}))}),1e3)}});var ue=t(2807),de=t(3561),pe=t(8582),ge=t.n(pe);const fe=(0,ue.A)(ce,[["render",B]]),he=fe;ge()(ce,"components",{QSpinnerGrid:de.A});var _e=t(6025),be=t(6599);const ke=(0,o.pM)({name:"MyAccount",setup(){},components:{HeaderComponent:a.A,MyAccountComponent:he,FooterComponent:_e.A,Section7:be.A}}),ve=(0,ue.A)(ke,[["render",s]]),$e=ve}}]);