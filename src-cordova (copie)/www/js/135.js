"use strict";(globalThis["webpackChunkmy_bakery"]=globalThis["webpackChunkmy_bakery"]||[]).push([[135],{135:(o,e,t)=>{t.r(e),t.d(e,{default:()=>so});var r=t(9835);function s(o,e,t,s,a,n){const i=(0,r.up)("HeaderComponent"),l=(0,r.up)("ForgotComponent"),d=(0,r.up)("Section7"),c=(0,r.up)("FooterComponent");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i),(0,r.Wm)(l),(0,r.Wm)(d),(0,r.Wm)(c)],64)}var a=t(5568),n=t(1957);const i=(0,r.uE)('<div class="background fadeIn2 bb background1"><div class="content"><h1>Modification de votre mot de passe</h1><div class="b-breadcrumb"><div class="b-breadcrumb"><ol class="breadcrumb"><li><a href="/">Accueil</a></li><li class="active">Modification de votre mot de passe</li></ol></div></div></div></div>',1),l={key:0,id:"login",class:"forgot section fadeIn3"},d={class:"content b-80 b-80"},c={class:"container"},m={class:"u-column1 col-1 text-center",style:{float:"none",width:"100%"}},u=(0,r._)("h2",{class:"mb-3"},"Vous avez perdu l'accès à votre compte ?",-1),p=(0,r._)("p",{class:"mb-5"},"Pas de panique, remplisser le formulaire ci-dessous.",-1),f={class:"bakery-detail",style:{"max-width":"350px"}},g={class:"form-group text-start"},_=(0,r._)("label",{for:"emailForgot"},[(0,r.Uk)("Pseudo ou adresse email "),(0,r._)("span",{class:"required"},"*")],-1),v=(0,r._)("p",{class:"error-text email_forgot_error"},null,-1),h={class:"text-center"},w={class:"loadingDiv"},b={key:1,id:"login",class:"forgot section fadeIn3"},y={class:"content b-80 b-80"},k={class:"container"},F={class:"u-column1 col-1 text-center",style:{float:"none",width:"100%"}},x=(0,r._)("h2",{class:"mb-3"},"Vous avez perdu l'accès à votre compte ?",-1),C=(0,r._)("p",{class:"mb-5"},"Pas de panique, remplisser le formulaire ci-dessous.",-1),D={class:"bakery-detail",style:{"max-width":"350px"}},Z={class:"form-group text-start"},I=(0,r._)("label",{for:"passwordForgot"},[(0,r.Uk)("Nouveau mot de passe "),(0,r._)("span",{class:"required"},"*")],-1),T=(0,r._)("p",{class:"error-text password_forgot_error"},null,-1),A={class:"form-group text-start"},P=(0,r._)("label",{for:"passwordForgotConfirmation"},[(0,r.Uk)("Confirmer votre nouveau mot de passe "),(0,r._)("span",{class:"required"},"*")],-1),N=(0,r._)("p",{class:"error-text password_confirmation_forgot_error"},null,-1),V={class:"text-center"},L={class:"loadingDiv"};function S(o,e,t,s,a,$){const S=(0,r.up)("q-spinner-grid");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i,o.route.params.token?((0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",y,[(0,r._)("div",k,[(0,r.wy)((0,r._)("div",F,[x,C,(0,r._)("form",D,[(0,r._)("p",Z,[I,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[2]||(e[2]=e=>o.passwordForgot=e),type:"password",class:"form-control",name:"passwordForgot",id:"passwordForgot"},null,512),[[n.nr,o.passwordForgot]]),T]),(0,r._)("p",A,[P,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[3]||(e[3]=e=>o.passwordForgotConfirmation=e),type:"password",class:"form-control",name:"passwordForgotConfirmation",id:"passwordForgotConfirmation"},null,512),[[n.nr,o.passwordForgotConfirmation]]),N]),(0,r._)("div",V,[(0,r._)("button",{onClick:e[4]||(e[4]=(...e)=>o.forgotPassword&&o.forgotPassword(...e)),class:"btn btn-bakery"},"Valider")])])],512),[[n.F8,o.showSimulatedReturnData]]),(0,r.wy)((0,r._)("div",L,[(0,r.Wm)(S,{size:"70px",color:"info"})],512),[[n.F8,o.visible]])])])])):((0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",d,[(0,r._)("div",c,[(0,r.wy)((0,r._)("div",m,[u,p,(0,r._)("form",f,[(0,r._)("p",g,[_,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>o.emailForgot=e),type:"text",class:"form-control",name:"emailForgot",id:"emailForgot"},null,512),[[n.nr,o.emailForgot]]),v]),(0,r._)("div",h,[(0,r._)("button",{onClick:e[1]||(e[1]=(...e)=>o.forgot&&o.forgot(...e)),class:"btn btn-bakery"},"Valider")])])],512),[[n.F8,o.showSimulatedReturnData]]),(0,r.wy)((0,r._)("div",w,[(0,r.Wm)(S,{size:"70px",color:"info"})],512),[[n.F8,o.visible]])])])]))],64)}t(9665);var U=t(299),q=t(2018),H=t(1359),z=t(989),W=t(3100),R=t(8339),O=t(9302),E=t(3878),M=t.n(E),Y=t(499),j=t(4006),G=t(7524);const Q=(0,r.aZ)({name:"ForgotPasswordComponent",setup(){const o=(0,Y.iH)(!1),e=(0,Y.iH)(!0),t=(0,O.Z)(),r=(0,R.yj)(),s=(0,W.oR)();return t.notify.registerType("success-form",{icon:"fa-solid fa-check",progress:!1,color:"green-6",textColor:"white",classes:"glossy",timeout:3500}),t.notify.registerType("error-form",{icon:"fa-solid fa-xmark",progress:!1,color:"red-6",textColor:"white",classes:"glossy",timeout:3500}),console.log(r.params.token),""!==r.params.token&&s.dispatch("fetchVerificationTokenForgot",{token:r.params.token}),{showTextLoading(t=null){o.value=!0,$(".u-column1").fadeOut(300),e.value=!1,null===t&&setTimeout((()=>{o.value=!1,e.value=!0}),3e3)},showNotif(o){t.notify({type:"success-form",message:o})},errorNotif(o=null){t.notify({type:"error-form",message:o||"Une erreur est survenue dans le formulaire."})},visible:o,moment:M(),route:r,Cookies:j.Z,showSimulatedReturnData:e}},data(){return{v$:(0,H.ZP)(),emailForgot:null,passwordForgot:null,passwordForgotConfirmation:null}},methods:{forgot(o){o.preventDefault(),this.v$.$validate();let e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=e.test(this.emailForgot);t?($(".email_forgot_error").removeAttr(),$(".email_forgot_error").text(""),this.emailForgot?(this.showTextLoading(),G.Z.post("https://my-bakery.fr:8080/forgot-password",{email:this.emailForgot}).then((o=>{!0===o.data.success?(this.showNotif("Un email vous a été envoyé sur "+this.emailForgot+", pour modifier votre mot de passe !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.reg_email=null}),3500)):this.errorNotif(o.data.message)})).catch((o=>{this.errorNotif()}))):this.emailForgot?($(".email_forgot_error").removeAttr(),$(".email_forgot_error").text("")):($(".email_forgot_error").attr("style","display: block"),$(".email_forgot_error").text("Le champs adresse email est obligatoire !"))):($(".email_forgot_error").attr("style","display: block"),$(".email_forgot_error").text("Le champs adresse email n'est pas valide !"))},forgotPassword(o){o.preventDefault(),this.passwordForgot&&this.passwordForgotConfirmation?($(document).find(".error-text").text(""),this.passwordForgot===this.passwordForgotConfirmation?(this.showTextLoading(),G.Z.post("https://my-bakery.fr:8080/forgot-password/"+this.$route.params.token,{newPassword:this.passwordForgot}).then((o=>{!0===o.data.success?(this.showNotif("Votre mot de passe a bien été modifié !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.$router.push("/my-account"),this.reg_email=null}),3500)):this.errorNotif(o.data.message)})).catch((o=>{this.errorNotif()}))):this.passwordForgot!==this.passwordForgotConfirmation?($(".password_confirmation_forgot_error").attr("style","display: block"),$(".password_confirmation_forgot_error").text("Les mots de passe ne correspondent pas !")):($(".password_confirmation_forgot_error").removeAttr(),$(".password_confirmation_forgot_error").text(""))):(this.passwordForgot?($(".password_forgot_error").removeAttr(),$(".password_forgot_error").text("")):($(".password_forgot_error").attr("style","display: block"),$(".password_forgot_error").text("Le champs mot de passe est obligatoire !")),this.passwordForgotConfirmation?($(".password_confirmation_forgot_error").removeAttr(),$(".password_confirmation_forgot_error").text("")):($(".password_confirmation_forgot_error").attr("style","display: block"),$(".password_confirmation_forgot_error").text("Le champs confirmation du mot de passe est obligatoire !")))}},components:{HeaderComponent:a.Z,FooterComponent:U.Z,Section7:q.Z},mounted(){null!==sessionStorage.getItem("token")&&(location.href="/"),$("#menu-main-menu").removeAttr("style"),$(document).on("click",".menu-toggle-2:not(.active)",(function(o){o.preventDefault(),$(this).addClass("active"),$("#menu-main-menu").fadeIn(300)})),$(document).on("click",".menu-toggle-2.active",(function(o){o.preventDefault(),$(this).removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#menu-main-menu .menu-item",(function(o){$(".menu-toggle-2").removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#blog .btn-target",(function(o){o.preventDefault();var e=$(this).attr("href");location.href=e})),$(".header").addClass("h-blog"),$("body").removeClass("loading"),$(".fadeIn").fadeIn(600),$(".fadeIn2").fadeIn(600),$(".fadeIn3").fadeIn(600),$(".fadeIn7").fadeIn(600),$(".fadeIn8").fadeIn(600),$(document).on("click",".scroll-click-s",(function(o){o.preventDefault();const e=$(this).data("scroll");$([document.documentElement,document.body]).animate({scrollTop:$("#"+e).offset().top},"slow")})),$(window).scroll((function(){$(this).scrollTop()>=600?$("#back-top").addClass("active"):$("#back-top").removeClass("active")})),$(document).on("click","#back-top",(function(o){o.preventDefault(),console.log("test"),$("html, body").animate({scrollTop:0},600)})),setTimeout((()=>{$(".search-btn").on("click",(function(o){o.preventDefault(),$(".searchbox").addClass("active"),$("body").css({overflow:"hidden"})})),$(".searchbox-remove").on("click",(function(o){o.preventDefault(),$(".searchbox").removeClass("active"),$("body").css({overflow:"auto"})}))}),1e3)},validations(){return{emailForgot:{required:z.C1}}}});var B=t(1639),J=t(3040),K=t(9984),X=t.n(K);const oo=(0,B.Z)(Q,[["render",S]]),eo=oo;X()(Q,"components",{QSpinnerGrid:J.Z});const to=(0,r.aZ)({name:"ForgotPassword",setup(){},components:{HeaderComponent:a.Z,ForgotComponent:eo,FooterComponent:U.Z,Section7:q.Z}}),ro=(0,B.Z)(to,[["render",s]]),so=ro}}]);