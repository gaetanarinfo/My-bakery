"use strict";(globalThis["webpackChunkorg_mybakery_app"]=globalThis["webpackChunkorg_mybakery_app"]||[]).push([[40],{1040:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ke});var o=t(2360);function s(e,r,t,s,a,l){const n=(0,o.g2)("HeaderComponent"),i=(0,o.g2)("MyAccountComponent"),m=(0,o.g2)("Section7"),c=(0,o.g2)("FooterComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(n),(0,o.bF)(i),(0,o.bF)(m),(0,o.bF)(c)],64)}var a=t(2418),l=(t(2506),t(6466));const n=(0,o.Fv)('<div class="background fadeIn2 bb background1"><div class="content"><h1>Mon compte</h1><div class="b-breadcrumb"><div class="b-breadcrumb"><ol class="breadcrumb"><li><a href="/">Accueil</a></li><li class="active">Mon compte</li></ol></div></div></div></div>',1),i={id:"login",class:"section fadeIn3"},m={class:"content b-80 b-80"},c={class:"container clear"},u={class:"u-column1 col-1"},d=(0,o.Lk)("h2",null,"Connexion",-1),p={class:"login bakery-detail"},g={class:"form-group"},f=(0,o.Lk)("label",{for:"username"},[(0,o.eW)("Adresse email "),(0,o.Lk)("span",{class:"required"},"*")],-1),_=(0,o.Lk)("p",{class:"error-text username_error"},null,-1),h={class:"form-group"},b=(0,o.Lk)("label",{for:"password"},[(0,o.eW)("Mot de passe "),(0,o.Lk)("span",{class:"required"},"*")],-1),k={class:"input-group"},v=(0,o.Lk)("div",{class:"input-group-prepend"},[(0,o.Lk)("span",{class:"input-group-text",id:"show-password"},[(0,o.Lk)("i",{class:"fa-solid fa-eye"})])],-1),L=(0,o.Lk)("p",{class:"error-text password_error"},null,-1),y={class:"form-group form-row"},x={class:"ms-3"},w=(0,o.Lk)("span",{class:"ms-1"},"Se souvenir de moi",-1),A={class:"form-group"},C={class:"u-column2 col-2"},I=(0,o.Lk)("h2",null,"Inscription",-1),S={method:"post",class:"register bakery-detail"},D={class:"form-group"},T=(0,o.Lk)("label",{for:"reg_email"},[(0,o.eW)("Adresse email "),(0,o.Lk)("span",{class:"required"},"*")],-1),U=(0,o.Lk)("p",{class:"error-text reg_email_error"},null,-1),q={class:"form-group"},M=(0,o.Lk)("label",{for:"reg_firstname"},[(0,o.eW)("Prénom "),(0,o.Lk)("span",{class:"required"},"*")],-1),V=(0,o.Lk)("p",{class:"error-text reg_firstname_error"},null,-1),F={class:"form-group"},W=(0,o.Lk)("label",{for:"reg_lastname"},[(0,o.eW)("Nom "),(0,o.Lk)("span",{class:"required"},"*")],-1),J=(0,o.Lk)("p",{class:"error-text reg_lastname_error"},null,-1),N={class:"form-group"},z=(0,o.Lk)("label",{for:"reg_function"},[(0,o.eW)("Poste occupé "),(0,o.Lk)("span",{class:"required"},"*")],-1),E=(0,o.Lk)("p",{class:"error-text reg_function_error"},null,-1),K={class:"form-group"},R=(0,o.Lk)("label",{for:"reg_location"},[(0,o.eW)("Localisation "),(0,o.Lk)("span",{class:"required"},"*")],-1),O=(0,o.Lk)("p",{class:"error-text reg_location_error"},null,-1),G={class:"form-group"},Z=(0,o.Lk)("label",{for:"reg_mobile"},"Mobile",-1),H={class:"form-group"},P=(0,o.Lk)("label",{for:"reg_phone"},"Téléphone fixe",-1),X={class:"privacy-policy-text"},j={class:"form-group woocomerce-FormRow form-row"},Q={class:"loadingDiv"};function B(e,r,t,s,a,$){const B=(0,o.g2)("q-spinner-grid");return(0,o.uX)(),(0,o.CE)(o.FK,null,[n,(0,o.Lk)("div",i,[(0,o.Lk)("div",m,[(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("div",u,[d,(0,o.Lk)("form",p,[(0,o.Lk)("p",g,[f,(0,o.bo)((0,o.Lk)("input",{onKeyup:r[0]||(r[0]=r=>e.erraseData("username")),"onUpdate:modelValue":r[1]||(r[1]=r=>e.username=r),type:"text",class:"form-control",name:"username",id:"username"},null,544),[[l.Jo,e.username]]),_]),(0,o.Lk)("p",h,[b,(0,o.Lk)("div",k,[(0,o.bo)((0,o.Lk)("input",{onKeyup:r[2]||(r[2]=r=>e.erraseData("password")),"onUpdate:modelValue":r[3]||(r[3]=r=>e.password=r),class:"form-control",type:"password",name:"password",id:"password"},null,544),[[l.Jo,e.password]]),v]),L]),(0,o.Lk)("p",y,[(0,o.Lk)("button",{onClick:r[4]||(r[4]=(...r)=>e.login&&e.login(...r)),type:"submit",class:"btn btn-bakery"},"Connexion"),(0,o.Lk)("label",x,[(0,o.bo)((0,o.Lk)("input",{"true-value":"true","false-value":"false",onChange:r[5]||(r[5]=(...r)=>e.remember&&e.remember(...r)),"onUpdate:modelValue":r[6]||(r[6]=r=>e.rememberme=r),class:"form-check-input",name:"rememberme",type:"checkbox",id:"rememberme"},null,544),[[l.lH,e.rememberme]]),w])]),(0,o.Lk)("p",A,[(0,o.Lk)("a",{role:"button",onClick:r[7]||(r[7]=e=>this.$router.push("/forgot-password"))},"Mot de passe perdu ?")])])],512),[[l.aG,e.showSimulatedReturnData]]),(0,o.bo)((0,o.Lk)("div",C,[I,(0,o.Lk)("form",S,[(0,o.Lk)("p",D,[T,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[8]||(r[8]=r=>e.reg_email=r),type:"email",class:"form-control",name:"email",id:"reg_email"},null,512),[[l.Jo,e.reg_email]]),U]),(0,o.Lk)("p",q,[M,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[9]||(r[9]=r=>e.reg_firstname=r),type:"text",class:"form-control",name:"firstname",id:"reg_firstname"},null,512),[[l.Jo,e.reg_firstname]]),V]),(0,o.Lk)("p",F,[W,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[10]||(r[10]=r=>e.reg_lastname=r),type:"text",class:"form-control",name:"lastname",id:"reg_lastname"},null,512),[[l.Jo,e.reg_lastname]]),J]),(0,o.Lk)("p",N,[z,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[11]||(r[11]=r=>e.reg_function=r),type:"text",placeholder:"ex : Ouvrier",class:"form-control",name:"function",id:"reg_function"},null,512),[[l.Jo,e.reg_function]]),E]),(0,o.Lk)("p",K,[R,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[12]||(r[12]=r=>e.reg_location=r),placeholder:"ex : Le Mans",type:"text",class:"form-control",name:"location",id:"reg_location"},null,512),[[l.Jo,e.reg_location]]),O]),(0,o.Lk)("p",G,[Z,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[13]||(r[13]=r=>e.reg_mobile=r),type:"tel",class:"form-control",name:"mobile",id:"reg_mobile"},null,512),[[l.Jo,e.reg_mobile]])]),(0,o.Lk)("p",H,[P,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[14]||(r[14]=r=>e.reg_phone=r),type:"tel",class:"form-control",name:"fixe",id:"reg_phone"},null,512),[[l.Jo,e.reg_phone]])]),(0,o.Lk)("div",X,[(0,o.Lk)("p",null,[(0,o.eW)("Vos données personnelles seront utilisées pour soutenir votre expérience sur ce site Web, pour gérer l'accès à votre compte, et à d'autres fins décrites dans notre "),(0,o.Lk)("a",{role:"button",onClick:r[15]||(r[15]=e=>{this.$router.push("/politique-confidentialite")}),target:"_blank"},"politique de confidentialité"),(0,o.eW)(".")])]),(0,o.Lk)("p",j,[(0,o.Lk)("button",{onClick:r[16]||(r[16]=(...r)=>e.register&&e.register(...r)),type:"submit",class:"btn btn-bakery"},"S'inscrire")])])],512),[[l.aG,e.showSimulatedReturnData]]),(0,o.bo)((0,o.Lk)("div",Q,[(0,o.bF)(B,{size:"70px",color:"info"})],512),[[l.aG,e.visible]])])])])],64)}t(3128),t(5801);var Y=t(5992),ee=t(7130),re=t(5541),te=t(2804),oe=t.n(te),se=t(4824),ae=t(5387),le=t(8769);oe().locale("fr");var ne=0;$(document).on("click","#show-password",(function(e){e.preventDefault(),0==ne?($(this).find("i.fa-solid.fa-eye").removeClass("fa-solid fa-eye").addClass("fa-solid fa-eye-slash"),$(document).find("#password").attr("type","text"),ne=1):($(this).find("i.fa-solid.fa-eye-slash").removeClass("fa-solid fa-eye-slash").addClass("fa-solid fa-eye"),$(document).find("#password").attr("type","password"),ne=0)}));const ie=(0,o.pM)({name:"MyAccount",setup(){const e=(0,ee.Pj)(),r=(0,se.KR)(!1),t=(0,se.KR)(!0),s=(0,re.A)(),a=(0,o.EW)((()=>e.state.stateUser));return s.notify.registerType("success-form",{icon:"fa-solid fa-check",progress:!1,color:"green-6",textColor:"white",classes:"glossy",timeout:3500}),s.notify.registerType("error-form",{icon:"fa-solid fa-xmark",progress:!1,color:"red-6",textColor:"white",classes:"glossy",timeout:3500}),{showTextLoading(e=null){r.value=!0,$(".u-column1").fadeOut(300),$(".u-column2").fadeOut(300),t.value=!1,null===e&&setTimeout((()=>{r.value=!1,t.value=!0}),3e3)},showNotif(e){s.notify({type:"success-form",message:e})},errorNotif(e=null){s.notify({type:"error-form",message:e||"Une erreur est survenue dans le formulaire."})},visible:r,stateUser:a,moment:oe(),Cookies:ae.A,showSimulatedReturnData:t}},data(){return{v$:(0,Y.Ay)(),reg_email:null,reg_firstname:null,reg_lastname:null,reg_function:null,reg_location:null,reg_mobile:null,reg_phone:null,password:null!==localStorage.getItem("password")?localStorage.getItem("password"):null,rememberme:null!==localStorage.getItem("username")&&null!==localStorage.getItem("password")?"true":"false",userLoggedIn:!1,username:null!==localStorage.getItem("username")?localStorage.getItem("username"):null}},methods:{register(e){e.preventDefault(),this.v$.$validate();let r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=r.test(this.reg_email);t?($(".reqEmail_error").removeAttr(),$(".reqEmail_error").text(""),this.reg_email&&this.reg_firstname&&this.reg_lastname&&this.reg_function&&reg_location&&(this.showTextLoading(),le.A.post("https://serveur.my-bakery.fr/register",{email:this.reg_email,firstname:this.reg_firstname,lastname:this.reg_lastname,fonction:this.reg_function,location:this.reg_location,phone:this.reg_phone,mobile:this.reg_mobile}).then((e=>{!0===e.data.success?(this.showNotif("Votre inscription a bien été pris en compte, un email de validation vous a été adressé !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.reg_email=null,this.reg_firstname=null,this.reg_lastname=null,this.reg_function=null,this.reg_location=null,this.reg_mobile=null,this.reg_phone=null}),3500)):this.errorNotif(e.data.message)})).catch((e=>{this.errorNotif()})))):($(".reg_email_error").attr("style","display: block"),$(".reg_email_error").text("Le champs adresse email n'est pas valide !")),this.reg_firstname?($(".reg_firstname_error").removeAttr(),$(".reg_firstname_error").text("")):($(".reg_firstname_error").attr("style","display: block"),$(".reg_firstname_error").text("Le champs prénom est obligatoire !")),this.reg_lastname?($(".reg_lastname_error").removeAttr(),$(".reg_lastname_error").text("")):($(".reg_lastname_error").attr("style","display: block"),$(".reg_lastname_error").text("Le champs nom est obligatoire !")),this.reg_function?($(".reg_function_error").removeAttr(),$(".reg_function_error").text("")):($(".reg_function_error").attr("style","display: block"),$(".reg_function_error").text("Le champs fonction est obligatoire !")),this.reg_location?($(".reg_location_error").removeAttr(),$(".reg_location_error").text("")):($(".reg_location_error").attr("style","display: block"),$(".reg_location_error").text("Le champs location est obligatoire !")),this.reg_email?($(".reg_email_error").removeAttr(),$(".reg_email_error").text("")):($(".reg_email_error").attr("style","display: block"),$(".reg_email_error").text("Le champs adresse email est obligatoire !"))},login(e){e.preventDefault(),this.v$.$validate();let r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,t=r.test(this.username);t?($(".username_error").removeAttr(),$(".username_error").text(""),this.username&&this.password?le.A.post("https://serveur.my-bakery.fr/login",{username:this.username,password:this.password}).then((e=>{if(this.showTextLoading("login"),!0===e.data.success){const r=e.data.token;this.stateUser.token=r,sessionStorage.setItem("token",r),this.showNotif("Connexion réussi, vous allez être redirigé !"),setTimeout((()=>{$(document).find(".error-text").text(""),$(document).find(".error-text").removeAttr(),$("#login").find("input").val(""),this.username=null,this.password=null,this.$router.push("/")}),3500)}else this.errorNotif(e.data.message),this.showTextLoading()})).catch((e=>{this.errorNotif()})):(this.username?($(".username_error").removeAttr(),$(".username_error").text("")):($(".username_error").attr("style","display: block"),$(".username_error").text("Le champs adresse email est obligatoire !")),this.password?($(".password_error").removeAttr(),$(".password_error").text("")):($(".password_error").attr("style","display: block"),$(".password_error").text("Le champs mot de passe est obligatoire !")))):($(".username_error").attr("style","display: block"),$(".username_error").text("Le champs adresse email n'est pas valide !"))},remember(){"true"===this.rememberme?(localStorage.setItem("username",this.username),localStorage.setItem("password",this.password)):(localStorage.removeItem("username"),localStorage.removeItem("password"))},erraseData(e){null!==localStorage.getItem(e)&&("username"===e&&localStorage.setItem(e,this.username),"password"===e&&localStorage.setItem(e,this.password))}},validations(){return{}},mounted(){null!==sessionStorage.getItem("token")&&(location.href="/"),$("#menu-main-menu").removeAttr("style"),$(document).on("click",".menu-toggle-2:not(.active)",(function(e){e.preventDefault(),$(this).addClass("active"),$("#menu-main-menu").fadeIn(300)})),$(document).on("click",".menu-toggle-2.active",(function(e){e.preventDefault(),$(this).removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#menu-main-menu .menu-item",(function(e){$(".menu-toggle-2").removeClass("active"),$("#menu-main-menu").fadeOut(300)})),$(document).on("click","#blog .btn-target",(function(e){e.preventDefault();var r=$(this).attr("href");location.href=r})),$(".header").addClass("h-blog"),$("body").removeClass("loading"),$(".fadeIn").fadeIn(600),$(".fadeIn2").fadeIn(600),$(".fadeIn3").fadeIn(600),$(".fadeIn7").fadeIn(600),$(".fadeIn8").fadeIn(600),$(document).on("click",".scroll-click-s",(function(e){e.preventDefault();const r=$(this).data("scroll");$([document.documentElement,document.body]).animate({scrollTop:$("#"+r).offset().top},"slow")})),$(window).scroll((function(){$(this).scrollTop()>=600?$("#back-top").addClass("active"):$("#back-top").removeClass("active")})),$(document).on("click","#back-top",(function(e){e.preventDefault(),console.log("test"),$("html, body").animate({scrollTop:0},600)})),setTimeout((()=>{$(".search-btn").on("click",(function(e){e.preventDefault(),$(".searchbox").addClass("active"),$("body").css({overflow:"hidden"})})),$(".searchbox-remove").on("click",(function(e){e.preventDefault(),$(".searchbox").removeClass("active"),$("body").css({overflow:"auto"})}))}),1e3)}});var me=t(8497),ce=t(3344),ue=t(3452),de=t.n(ue);const pe=(0,me.A)(ie,[["render",B]]),ge=pe;de()(ie,"components",{QSpinnerGrid:ce.A});var fe=t(1338),_e=t(5701);const he=(0,o.pM)({name:"MyAccount",setup(){},components:{HeaderComponent:a.A,MyAccountComponent:ge,FooterComponent:fe.A,Section7:_e.A}}),be=(0,me.A)(he,[["render",s]]),ke=be}}]);